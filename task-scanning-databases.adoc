---
sidebar: sidebar 
permalink: task-scanning-databases.html 
keywords: cloud compliance, enable cloud compliance, outbound internet, endpoints, cloud compliance internet, web browser connectivity, cloud compliance access, privacy, compliance, databases, database schemas, Oracle, SAP HANA, SQL Server, MongoDB, PostgreSQL, data sense 
summary: NetApp Data Classificationを使用してデータベース スキーマのスキャンを開始するには、いくつかの手順を実行します。 
---
= NetApp Data Classificationでデータベーススキーマをスキャンする
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
NetApp Data Classificationを使用してデータベース スキーマのスキャンを開始するには、いくつかの手順を実行します。



== 前提条件を確認する

データ分類を有効にする前に、次の前提条件を確認して、サポートされている構成があることを確認してください。



=== サポートされているデータベース

データ分類では、次のデータベースからスキーマをスキャンできます。

* Amazon リレーショナルデータベースサービス (Amazon RDS)
* MongoDB
* MySQL
* Oracle
* PostgreSQL
* SAP HANA
* SQL サーバー (MSSQL)



CAUTION: データベースで統計収集機能が有効になっている必要があります。



=== データベース要件

ホストされている場所に関係なく、データ分類インスタンスに接続できるデータベースであればスキャンできます。データベースに接続するには、次の情報が必要です。

* IPアドレスまたはホスト名
* ポート
* サービス名（Oracle データベースへのアクセスのみ）
* スキーマへの読み取りアクセスを許可する資格情報
+
ユーザー名とパスワードを選択するときは、スキャンするすべてのスキーマとテーブルに対する完全な読み取り権限を持つユーザー名とパスワードを選択することが重要です。必要なすべての権限を持つデータ分類システム専用のユーザーを作成することをお勧めします。




NOTE: MongoDB の場合、読み取り専用の管理者ロールが必要です。



== データ分類インスタンスをデプロイする

インスタンスがまだデプロイされていない場合は、データ分類をデプロイします。

インターネット経由でアクセス可能なデータベーススキーマをスキャンする場合は、link:task-deploy-cloud-compliance.html["クラウドでデータ分類を展開する"^]またはlink:task-deploy-compliance-onprem.html["インターネットにアクセスできるオンプレミスの場所にデータ分類を展開する"^]。

インターネットにアクセスできないダークサイトにインストールされているデータベーススキーマをスキャンする場合は、link:task-deploy-compliance-dark-site.html["インターネットにアクセスできないオンプレミスの同じ場所にデータ分類を展開する"^] 。これには、コンソール エージェントが同じオンプレミスの場所に展開されていることも必要です。



== データベースサーバーを追加する

スキーマが存在するデータベース サーバーを追加します。

. データ分類メニューから、*構成*を選択します。
. 構成ページで、*システムの追加* > *データベース サーバーの追加*を選択します。
. データベース サーバーを識別するために必要な情報を入力します。
+
.. データベースの種類を選択します。
.. データベースに接続するためのポートとホスト名または IP アドレスを入力します。
.. Oracle データベースの場合は、サービス名を入力します。
.. データ分類がサーバーにアクセスできるように資格情報を入力します。
.. *DB サーバーの追加*を選択します。
+
image:screenshot_compliance_add_db_server_dialog.png["データベースを識別できるようにするための「DB サーバーの追加」ページのスクリーンショット。"]





データベースがシステムのリストに追加されます。



== データベーススキーマのスキャンを有効または無効にする

スキーマの完全スキャンはいつでも停止または開始できます。


TIP: データベース スキーマのマッピングのみのスキャンを選択するオプションはありません。

. 構成ページで、構成するデータベースの*構成*ボタンを選択します。
+
image:screenshot_compliance_db_server_config.png["構成ボタンを選択できるスキャン構成ページのスクリーンショット。"]

. スライダーを右に移動して、スキャンするスキーマを選択します。
+
image:screenshot_compliance_select_schemas.png["スキャンするスキーマを選択できるスキャン構成ページのスクリーンショット。"]



.結果
データ分類は、有効にしたデータベース スキーマのスキャンを開始します。**構成** メニューに移動し、**システム構成** を選択すると、初期スキャンの進行状況を追跡できます。各スキャンの進行状況は進行状況バーとして表示されます。進行状況バーにマウスを移動すると、ボリューム内のファイルの合計数に対するスキャンされたファイルの数を確認することもできます。エラーがある場合は、エラーを修正するために必要なアクションとともにステータス列に表示されます。

データ分類では、データベースを 1 日に 1 回スキャンします。データベースは他のデータ ソースのように継続的にスキャンされるわけではありません。
